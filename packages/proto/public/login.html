<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="/styles/page.css" />
    <link rel="stylesheet" href="/styles/tokens.css" />
    <link rel="stylesheet" href="/styles/reset.css" />
    <script type="importmap">
      {
        "imports": {
          "@calpoly/mustang": "/node_modules/@calpoly/mustang/dist/mustang.mjs"
        }
      }
    </script>
    <script type="module" src="/js/drop-down.js"></script>
    <script type="module" src="/js/html-loader.js"></script>
    <script type="module" src="/js/login-form.js"></script>
    <script type="module">
      import { relayEvent } from "/js/relay-event.js";

      window.relayEvent = relayEvent;
    </script>
    <script type="module">
      function toggleLightMode(page, checked) {
        page.classList.toggle("light-mode", checked);
      }

      document.body.addEventListener("light-mode", (event) =>
        toggleLightMode(event.currentTarget, event.detail.checked)
      );
    </script>
    <script type="module">
      import { define, Auth } from "@calpoly/mustang";

      define({ "mu-auth": Auth.Provider });
    </script>
    <style>
      .page {
        height: 100vh;
        grid-template-rows: 1fr fit-content(1fr) 1fr;
      }
      main.card {
        align-self: center;
        grid-column: 3 / span 4;
      }
      h2 {
        grid-column: start / end;
        align-self: end;
      }
      p {
        grid-column: 2 / -2;
        text-align: center;
      }
    </style>
  </head>

  <body class="page">
    <header>
      <nav>
        <a href="../index.html">Home</a>
        <a class="selected" href="/html/profile.html">Account</a>
        <a href="/html/playlists.html">Playlists</a>
      </nav>
      <drop-down>
        <form class="search">
          <input type="text" placeholder="Search for music..." />
          <button>Search</button>
        </form>
      </drop-down>
    </header>
    <mu-auth>
      <h2>User Login</h2>
      <main class="card">
        <login-form>
          <label>
            <span>Username:</span>
            <input name="username" autocomplete="off" />
          </label>
          <label>
            <span>Password:</span>
            <input type="password" name="password" />
          </label>
        </login-form>
      </main>
      <p>
        Or did you want to
        <a href="./newuser.html">Sign up as a new user</a>
        ?
      </p>
    </mu-auth>
  </body>
</html>
